(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{25:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),s=(a(30),a(4)),l=a.n(s),i=a(11),m=a(8),u=a(2),p=a(3),v=a(9),f=a(15),d=a.n(f),h=(a(32),a(33),a(34),a(35),a(36),a(37),function(e){var t=e.movie,a=e.onToggleFavorite,n=e.isFavorite;return r.a.createElement("div",{className:"single-card"},r.a.createElement(v.b,{to:"/".concat(t.id),style:{textDecoration:"none",color:"inherit"}},r.a.createElement("div",{className:"movie-card"},r.a.createElement("div",{className:"movie-details"},r.a.createElement("img",{className:"card-img",src:"".concat("http://image.tmdb.org/t/p/w780").concat(t.backdrop_path),alt:t.title}),r.a.createElement("h2",{className:"title"},t.title),r.a.createElement("p",{className:"description"},t.overview.length>100?t.overview.substring(0,100)+"...":t.overview),r.a.createElement("div",{className:"flex card-icons"},r.a.createElement("p",{className:"read-more"},"Read More"),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"favorite-heart ".concat(n?"active":""),onClick:function(e){e.preventDefault(),a(t)},width:"30px",height:"30px"},r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:n?"red":"none",stroke:n?"red":"black",strokeWidth:"1"})))))))}),g=function(e){e.favorites;var t=e.onToggleFavorite,a=e.isFavorite,c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],p=o[1],v=Object(n.useState)(""),f=Object(u.a)(v,2),g=f[0],b=f[1],E=Object(n.useState)(!1),w=Object(u.a)(E,2),N=w[0],k=w[1],j=Object(n.useState)(""),x=Object(u.a)(j,2),O=x[0],y=x[1],S=Object(n.useState)(1),_=Object(u.a)(S,2),C=_[0],F=_[1],T=Object(n.useState)(0),U=Object(u.a)(T,2),D=U[0],M=U[1],B="https://api.themoviedb.org/3/search/movie?api_key=".concat("a62fd138fc3adf6aa51790c63f1f498e","&language=en-US&query="),L=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r,c,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:1,a=o.length>1&&void 0!==o[1]&&o[1],g){e.next=4;break}return e.abrupt("return");case 4:return k(!0),y(""),e.prev=6,e.next=9,fetch("".concat(B).concat(encodeURIComponent(g),"&page=").concat(t));case 9:if((n=e.sent).ok){e.next=12;break}throw new Error("Network response was not ok");case 12:return e.next=14,n.json();case 14:r=e.sent,c=r.results.filter((function(e){return e.backdrop_path&&e.poster_path})),a?(c=c.slice(0,6),p(c)):p((function(e){return[].concat(Object(m.a)(e),Object(m.a)(c))})),M(r.total_results),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),y("Error fetching movies. Please try again."),console.error("Error fetching movies:",e.t0);case 24:return e.prev=24,k(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[6,20,24,27]])})));return function(){return e.apply(this,arguments)}}(),A=Object(n.useCallback)(d()((function(e,t){return L(1,t)}),500),[]);Object(n.useEffect)((function(){g?A(g,!0):p([])}),[g,A]);var W=function(){F(1),L(1,!0)},I=Math.ceil(D/20),P=s.length>0&&C<I;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-contain"},r.a.createElement("input",{className:"search-bar",type:"text",value:g,onChange:function(e){return b(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&W()},placeholder:"Search for movies"}),r.a.createElement("button",{className:"button",onClick:W},"Search")),N&&r.a.createElement("p",{className:"loading"},"Loading..."),O&&r.a.createElement("p",{className:"loading"},O),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"flex flex-wrap"},s.length>0?s.map((function(e){return r.a.createElement(h,{key:e.id,movie:e,onToggleFavorite:t,isFavorite:a(e)})})):!N&&!O&&r.a.createElement("p",{className:"no-movies-found"},"Try searching a movie title.")),P&&r.a.createElement("div",{className:"show-more-parent flex justify-content-center"},r.a.createElement("button",{className:"show-more-button button",onClick:function(){var e=C+1;F(e),L(e)}},"Show More"))))},b=a(24),E=a.n(b),w=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},N=(a(43),"a62fd138fc3adf6aa51790c63f1f498e"),k=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(u.a)(a,2),o=c[0],s=c[1],m=Object(n.useState)([]),p=Object(u.a)(m,2),f=p[0],d=p[1],h=Object(n.useState)(null),g=Object(u.a)(h,2),b=g[0],k=g[1],j=Object(n.useState)(""),x=Object(u.a)(j,2),O=x[0],y=x[1],S=Object(n.useState)([]),_=Object(u.a)(S,2),C=_[0],F=_[1],T=Object(n.useState)([]),U=Object(u.a)(T,2),D=U[0],M=U[1],B=Object(n.useState)(null),L=Object(u.a)(B,2),A=L[0],W=L[1],I=Object(n.useState)(!1),P=Object(u.a)(I,2),R=P[0],Y=P[1],q=Object(n.useState)(!1),z=Object(u.a)(q,2),H=z[0],J=z[1],K=Object(n.useState)([]),G=Object(u.a)(K,2),V=G[0],$=G[1];Object(n.useEffect)((function(){var e=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"?api_key=").concat(N,"&language=en-US"));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,s(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/images?api_key=").concat(N));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,d(n.backdrops.slice(0,8)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/credits?api_key=").concat(N));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=n.crew.find((function(e){return"Director"===e.job})),y(r?r.name:"N/A"),c=n.cast.filter((function(e){return e.profile_path})),F(c.slice(0,5)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/videos?api_key=").concat(N));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=n.results.find((function(e){return"Trailer"===e.type&&"YouTube"===e.site})),k(r?r.key:null),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/similar?api_key=").concat(N,"&language=en-US"));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=n.results.filter((function(e){return e.backdrop_path})),M(r.slice(0,3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t.params.id,"/watch/providers?api_key=").concat(N));case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent).results.US&&n.results.US.flatrate&&$(n.results.US.flatrate),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e(),a(),n(),r(),c(),o()}),[t.params.id]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[o.id]);var Q=function(){J(!1)},X=f[A];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"movie-wrapper",style:{backgroundImage:"url(".concat("http://image.tmdb.org/t/p/w1280").concat(o.backdrop_path,")")}}),r.a.createElement("div",{className:"container relative"},r.a.createElement("h1",{className:"movie-title text-center"},o.title),r.a.createElement("em",{className:"block text-center"},o.tagline),r.a.createElement("div",{className:"movie-info"},r.a.createElement(E.a,{id:o.id},r.a.createElement("img",{className:"poster",src:"".concat("http://image.tmdb.org/t/p/w342").concat(o.poster_path),alt:o.title})),r.a.createElement("div",{className:"detailed-movie"},r.a.createElement("h3",null,"Release Date:"),r.a.createElement("p",null,o.release_date?w(o.release_date):"N/A"),r.a.createElement("h3",null,"Director:"),r.a.createElement("p",null,O),r.a.createElement("h3",null,"Summary:"),r.a.createElement("p",null,o.overview),r.a.createElement("h3",null,"Vote Average:"),r.a.createElement("p",null,o.vote_average,"/10 with ",o.vote_count," votes"),r.a.createElement("h3",null,"Genres:"),r.a.createElement("p",null,o.genres&&o.genres.length>0?o.genres.map((function(e){return e.name})).join(", "):"No genres available"),V.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Watch on:"),r.a.createElement("div",{className:"gap streaming-providers"},V.map((function(e,t){return r.a.createElement("div",{className:"stream-contain",key:t},r.a.createElement("a",{className:"movie-card stream-card",href:"https://www.".concat(e.provider_name.toLowerCase().replace(" ",""),".com"),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.logo_path),alt:e.provider_name,className:"provider-logo"}),e.provider_name))})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Watch on:"),r.a.createElement("p",null,"Not currently streaming.")),b&&r.a.createElement("button",{onClick:function(){return Y(!0)},className:"button trailer-button"},"Watch Trailer"))),C.length>0&&r.a.createElement("div",{className:"cast-section similar-movies"},r.a.createElement("h2",{className:"text-center"},"Cast:"),r.a.createElement("div",{className:"image-grid gap flex flex-wrap justify-content-center"},C.map((function(e,t){return r.a.createElement("div",{key:t,className:"cast-member"},r.a.createElement("div",{className:"cast-contain"},r.a.createElement("img",{src:"".concat("http://image.tmdb.org/t/p/w185").concat(e.profile_path),alt:e.name,className:"cast-image"})),r.a.createElement("p",{className:"cast-name"},e.name),r.a.createElement("p",{className:"cast-character"},e.character))})))),f.length>0&&r.a.createElement("div",{className:"similar-movies"},r.a.createElement("h2",{className:"text-center"},"Images from ",o.title,":"),r.a.createElement("div",{className:"image-grid gap flex flex-wrap justify-content-center"},f.map((function(e,t){return r.a.createElement("img",{key:t,src:"".concat("http://image.tmdb.org/t/p/w200").concat(e.file_path),alt:"Backdrop ".concat(t+1),className:"movie-image",onClick:function(){return function(e){W(e),J(!0)}(t)}})})))),H&&X&&r.a.createElement("div",{className:"modal",onClick:Q},r.a.createElement("div",{className:"modal-body"},r.a.createElement("span",{className:"close",onClick:Q},"\xd7"),r.a.createElement("button",{className:"button nav-button left",onClick:function(e){e.stopPropagation(),W((function(e){return e>0?e-1:f.length-1}))}},"\u276e"),r.a.createElement("img",{className:"modal-image",src:"".concat("http://image.tmdb.org/t/p/w1280").concat(X.file_path),alt:"Selected"}),r.a.createElement("button",{className:"button nav-button right",onClick:function(e){e.stopPropagation(),W((function(e){return e<f.length-1?e+1:0}))}},"\u276f"))),R&&r.a.createElement("div",{className:"modal",onClick:function(){return Y(!1)}},r.a.createElement("div",{className:"modal-body",onClick:function(e){return e.stopPropagation()}},r.a.createElement("span",{className:"close",onClick:function(){return Y(!1)}},"\xd7"),r.a.createElement("div",{className:"video-responsive"},r.a.createElement("iframe",{title:"Trailer",width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(b),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0})))),D.length>0&&r.a.createElement("div",{className:"similar-movies"},r.a.createElement("h2",{className:"text-center"},"Similar Movies:"),r.a.createElement("div",{className:"justify-content-center flex flex-wrap"},D.map((function(e){return r.a.createElement("div",{key:e.id,className:"single-card"},r.a.createElement(v.b,{to:"/".concat(e.id),style:{textDecoration:"none",color:"inherit"}},r.a.createElement("div",{className:"movie-card"},r.a.createElement("div",{className:"movie-details"},r.a.createElement("img",{className:"card-img",src:"".concat("http://image.tmdb.org/t/p/w1280").concat(e.backdrop_path),alt:e.title}),r.a.createElement("h2",{className:"title"},e.title),r.a.createElement("p",{className:"description"},e.overview.length>100?e.overview.substring(0,100)+"...":e.overview),r.a.createElement("p",{className:"read-more"},"Read More")))))})))),r.a.createElement("div",{className:"back-parent flex justify-content-center"},r.a.createElement(v.b,{to:"/",className:"button"},"Back to Home"))))},j=function(e){var t=e.favorites,a=e.onToggleFavorite;return r.a.createElement("div",{className:"favorites-page"},r.a.createElement("h1",{className:"text-center"},"Your Fave(s)"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"flex flex-wrap"},t.length>0?t.map((function(e){return r.a.createElement(h,{key:e.id,movie:e,onToggleFavorite:a,isFavorite:!0})})):r.a.createElement("div",{className:"full-width"},r.a.createElement("p",{className:"text-center"},"No favorites added yet."))),r.a.createElement("div",{className:"back-parent flex justify-content-center"},r.a.createElement(v.b,{to:"/",className:"button"},"Back to Home"))))},x=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),f=s[0],h=s[1],b=Object(n.useState)(""),E=Object(u.a)(b,2),w=E[0],N=E[1],x=Object(n.useState)([]),O=Object(u.a)(x,2),y=O[0],S=O[1],_=Object(n.useState)(!1),C=Object(u.a)(_,2),F=C[0],T=C[1],U=Object(n.useState)(""),D=Object(u.a)(U,2),M=D[0],B=D[1],L=Object(p.f)(),A="https://api.themoviedb.org/3/search/movie?api_key=".concat("a62fd138fc3adf6aa51790c63f1f498e","&language=en-US&query="),W=function(e){c((function(t){var a=t.some((function(t){return t.id===e.id}))?t.filter((function(t){return t.id!==e.id})):[].concat(Object(m.a)(t),[e]);return console.log("Updated favorites in App:",a),a}))},I=function(e){var t=a.some((function(t){return t.id===e.id}));return console.log("Is movie favorite in App:",t),t},P=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return T(!0),B(""),e.prev=4,e.next=7,fetch("".concat(A).concat(encodeURIComponent(t),"&page=1"));case 7:if((a=e.sent).ok){e.next=10;break}throw new Error("Network response was not ok");case 10:return e.next=12,a.json();case 12:n=e.sent,r=n.results.filter((function(e){return e.backdrop_path&&e.poster_path})),S(r),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),B("Error fetching movies. Please try again."),console.error("Error fetching movies:",e.t0);case 21:return e.prev=21,T(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[4,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),R=Object(n.useCallback)(d()((function(e){return P(e)}),500),[]);Object(n.useEffect)((function(){var e=function(){window.scrollY>36?h("scroll"):h("")};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),Object(n.useEffect)((function(){w?R(w):S([])}),[w,R]);var Y=function(){P(w),L.push("/")};return r.a.createElement(v.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"search-header  ".concat(f)},r.a.createElement(v.b,{to:"/"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",null,r.a.createElement("h1",null,"Searchflix"),r.a.createElement("p",null,"A Movie search engine created by @FrontEndMike")))),f&&r.a.createElement("div",{className:"header-search"},r.a.createElement("input",{className:"search-bar",type:"text",value:w,onChange:function(e){return N(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Y()},placeholder:"Search for movies"}),r.a.createElement("button",{className:"button",onClick:Y},"Search")),r.a.createElement(v.b,{to:"/favorites"},r.a.createElement("div",{className:"flex favorites-icon"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"favorite-heart ".concat(a.length>0?"active":""),width:"30px",height:"30px"},r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:a.length>0?"red":"transparent",stroke:a.length>0?"red":"white",strokeWidth:"1"}))))),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(g,{favorites:a,onToggleFavorite:W,isFavorite:I})}}),r.a.createElement(p.a,{path:"/favorites",render:function(){return r.a.createElement(j,{favorites:a,onToggleFavorite:W})}}),r.a.createElement(p.a,{path:"/:id",component:k})),y.length>0&&r.a.createElement("div",{className:"search-results"},y.map((function(e){return r.a.createElement("div",{key:e.id,className:"search-result-item"},r.a.createElement(v.b,{to:"/".concat(e.id)},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:e.title}),r.a.createElement("p",null,e.title)))}))),F&&r.a.createElement("p",{className:"loading"},"Loading..."),M&&r.a.createElement("p",{className:"loading"},M)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.d5611b98.chunk.js.map